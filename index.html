<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/styleScores.css">
    <title>Web Tg</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <div v-if="user">
            <p>{{ user.first_name }}</p>
            <p>{{ user.last_name }}</p>
            <p>{{ user.username }}</p>
            <p>{{ user.language_code }}</p>
            <p>{{ user.id }}</p>
        
            <p>какой-то текст</p> <!--Просто текст для проверки-->
            <a class="link" href="vk.com">Ссылка</a> <!--Просто ссылка для проверки-->
            <p class="hint">Какая-то подсказка</p> <!--Просто текст-подсказка для проверки-->
            <div class="button" @click="toggleMainButton()">Show/Hide Main Button</div> <!--Кнопка, чтобы скрыть / показать основную кнопку-->
            <button class="button" @click="changeMainButtonActive()">Enable/Disable Main Button</button> <!--Кнопка, чтобы сделать кнопку активной/неактивной-->
        </div>
    </div>

    <div id="scoreapp">
        <div class="header">
            <button class="btn primary" @click="newGame">Новая игра</button>
            <button :class="['btn', {'hiden': selectedColumn === null, 'primary': selectedColumn != null}]" @click="removeRound">Удалить кон</button>
            <button class="btn primary" @click="addRound">Добавить кон</button>
        </div>
        <div class="content" v-if="activeWindow === windowsEnum.score">
            <table>
                <thead>
                    <tr>
                        <th>Игрок</th>
                        <th v-for="i in roundsCount" @click="selectedColumn = i" :class="[{'selectedColumn': selectedColumn === i}]">№{{ i }}</th>
                        <th>Итого</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(player, idx) in players">
                        <td>{{ player }}</td>
                        <td
                            v-for="(score, i) in scores[idx]"
                            :class="['scoreValue', {'selectedColumn': selectedColumn === i + 1}]"
                            ><input type="number" v-model="score">
                        </td>
                        <td >{{ scores[idx].reduce((partialSum, a) => partialSum + a, 0) }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="content" v-if="activeWindow === windowsEnum.players">
            Игроки
        </div>
        <div class="content" v-if="activeWindow === windowsEnum.settings">
            Настроки
        </div>
        <div class="footer">
            <button :class="['btn', {'primary': activeWindow === windowsEnum.score}]" @click="activeWindow = windowsEnum.score">Очки</button>
            <button :class="['btn', {'primary': activeWindow == windowsEnum.players}]" @click="activeWindow = windowsEnum.players">Игроки</button>
            <button :class="['btn', {'primary': activeWindow === windowsEnum.settings}]" @click="activeWindow = windowsEnum.settings">Настройки</button>
        </div>
    </div>
    

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="./vue.min.js"></script>
    <script src="./js/index.js"></script>
    <script src="./js/score.js"></script>
</body>
</html>